(ocamllex
 (modules objlanglexer))

(menhir
 (modules objlangparser)
 (flags --explain --dump)
 (infer true))

(executable
 (name objlangc)
 (promote (until-clean))
 (flags ()))

(env
 (dev
  (flags
   (:standard -w -50))))

(rule
 (alias clean-test)
 (action
  (bash "rm -f ../../tests/*.asm")))
